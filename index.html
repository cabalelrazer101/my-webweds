<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reychel & Orlando - Our Wedding</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* Small inline styles for the loading overlay fallback font */
    .loading-overlay, .audio-overlay { font-family: 'Montserrat', sans-serif; }

     /* ğŸ”½ Add your background + overlay CSS here */
    #story, 
    #details, 
    #rsvp {
      position: relative;
      z-index: 1;
      overflow: hidden;
    }

    #story::before,
    #details::before,
    #rsvp::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: url("https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567024/bg_xei5ld.jpg") center/cover no-repeat;
      background-attachment: fixed;
      opacity: 0.35;
      z-index: -2;
    }

    #story::after,
    #details::after,
    #rsvp::after {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.35); /* dark overlay */
      backdrop-filter: blur(3px);   /* subtle blur */
      z-index: -1;
    }


  </style>
</head>
<body>

  <!-- Loading Overlay -->
  <div id="loading-overlay" class="loading-overlay">
    <img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567031/rings_icon.png" alt="Rings" width="100">
    <p>Loading our special day...</p>
  </div>

  <!-- Sticky Navbar -->
  <header class="navbar">
    <div class="logo">ğŸ’ Reychel & Orlando</div>
    <nav>
      <a href="#hero">Home</a>
      <a href="#story">Prenup Moments</a>
      <a href="#details">Details</a>
      <a href="#" id="open-rsvp">RSVP</a>
    </nav>
  </header>
  
 <!-- Hero with video -->
<section id="hero" class="hero">
  <video id="hero-video" loop muted playsinline preload="auto" class="hero-video">
    <source src="" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <div class="hero-content wedding-intro">
    <h1>Reychel <br>&<br> Orlando</h1>
    <p class="date">December 6, 2025</p>
    <div id="countdown" class="countdown"></div>
    <a href="#details" class="save-date-btn">ğŸ’Œ Save the Date</a>
  </div>
</section>

  <!-- Our Story with Filmstrip Carousel (slides 1..15 included) -->
  <section id="story" class="story">
    <h2>Prenup Moments</h2>
    <div class="carousel-container">
      <button class="prev" aria-label="Previous slide">â®</button>
      <div class="carousel-viewport">
        <div class="carousel-track">
          <div class="carousel-slide" data-caption="Nature with You ğŸ’•"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567028/story1_dhugja.jpg" alt="Story 1"></div>
          <div class="carousel-slide" data-caption="The Flower ğŸ’–"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567027/story2_fkscxw.jpg" alt="Story 2"></div>
          <div class="carousel-slide" data-caption="Coffee Dates â˜•"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567026/story7_ravxnj.jpg" alt="Story 3"></div>
          <div class="carousel-slide" data-caption="Road Trip ğŸ’–"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567028/story4_mlqfv5.jpg" alt="Story 4"></div>
          <div class="carousel-slide" data-caption="Enjoying Nature ğŸ“¸"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567028/story5_chlfkf.jpg" alt="Story 5"></div>
          <div class="carousel-slide" data-caption="Calm Day ğŸ¶"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567036/story6_smwwgn.jpg" alt="Story 6"></div>
          <div class="carousel-slide" data-caption="Street Shot â›°ï¸"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567027/story3_wgbygb.jpg" alt="Story 7"></div>
          <div class="carousel-slide" data-caption="Late Night Moments ğŸ“¸"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567026/story8_lumdsa.jpg" alt="Story 8"></div>
          <div class="carousel-slide" data-caption="Love Bond ğŸ’"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567026/story9_e9tyqj.jpg" alt="Story 9"></div>
          <div class="carousel-slide" data-caption="Beside You ğŸ“¸"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567029/story14_rz0adw.jpg" alt="Story 10"></div>
          <div class="carousel-slide" data-caption="Somewhere Out There ğŸ³"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567028/story11_xon6ff.jpg" alt="Story 11"></div>
          <div class="carousel-slide" data-caption="Just Us Momments ğŸ’–"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567028/story12_ikcqva.jpg" alt="Story 12"></div>
          <div class="carousel-slide" data-caption="Nature VibesğŸ’"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567029/story13_it6mxf.jpg" alt="Story 13"></div>
          <div class="carousel-slide" data-caption="Calm Moments ğŸ’–"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567027/story10_fizg7r.jpg" alt="Story 14"></div>
          <div class="carousel-slide" data-caption="City Walk ğŸ’–"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567029/story15_apjyvg.jpg" alt="Story 15"></div>
          <div class="carousel-slide" data-caption="Walk to ForeverğŸ’"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758696728/walktoforever_viijqp.jpg" alt="Story 16"></div>
          <div class="carousel-slide" data-caption="Moments of Laughter ğŸ’–"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758696863/momentsoflaughter_zuqjet.jpg" alt="Story 17"></div>
          <div class="carousel-slide" data-caption="To The Future ğŸ’•"><img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758696822/tothefuture_vvfpxy.jpg" alt="Story 18"></div>
        </div>
      </div>
      <button class="next" aria-label="Next slide">â¯</button>
    </div>
    <div class="carousel-caption" id="carousel-caption">Our First Date ğŸ’•</div>
  </section>

  <!-- Wedding Details (5 images now included) -->
  <section id="details" class="details">
    <h2>Wedding Details</h2>
    <div class="details-grid">
      <div class="detail-card">
        <img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567025/detail1_huwha5.jpg" alt="Ceremony"
             onclick="openLightbox(this, 'ğŸ“ Ceremony - Diocesan Shrine and Parish of Our Lady of the Pillar, Imus Cavite')">
        <p>ğŸ“ Ceremony<br>Diocesan Shrine and Parish of Our Lady of the Pillar, Imus Cavite <br>(Tap the Photo to View)</p>
      </div>
      <div class="detail-card">
        <img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567025/detail2_ht7m1k.jpg" alt="Reception"
             onclick="openLightbox(this, 'ğŸ‰ Reception - Patio Lazaro')">
        <p>ğŸ‰ Reception<br>Patio Lazaro <br>(Tap the Photo to View)</p>
      </div>
      <div class="detail-card">
        <img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567025/detail3_tsh6og.jpg" alt="Time"
             onclick="openLightbox(this, 'ğŸ•“ 11:00 AM, December 6, 2025')">
        <p>ğŸ•“ 11:00 AM<br>December 6, 2025<br> (Tap the Photo to View)</p>
      </div>
      <div class="detail-card">
        <!-- fixed extra quote here -->
        <img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567026/detail4_k2kz2e.jpg" alt="Dress Code"
             onclick="openLightbox(this, 'ğŸ’• The Entourage ')">
        <p>ğŸ’• The Entourage <br>(Tap the Photo to View)<br></p>
      </div>
      <div class="detail-card">
        <img src="https://res.cloudinary.com/dcytvgwj7/image/upload/v1758567026/detail5_kinxzt.jpg" alt="Accommodations"
             onclick="openLightbox(this, 'ğŸ‘— Dress Code - Formal Attire')">
        <p><br>ğŸ‘— Dress Code - Formal Attire<br> (Tap the Photo to View)</p>
      </div>
    </div>
  </section>

  <!-- Lightbox (fullscreen animated) -->
  <div id="lightbox" class="lightbox" aria-hidden="true">
    <span class="close" onclick="closeLightbox()">âœ–</span>
    <img id="lightbox-img" alt="Zoomed detail">
    <p id="lightbox-caption" class="lightbox-caption"></p>
  </div>

  <!-- RSVP Fullscreen Overlay (FormSubmit) -->
  <div id="rsvp-overlay" class="rsvp-overlay" aria-hidden="true">
    <div class="rsvp-content" role="dialog" aria-modal="true" aria-labelledby="rsvp-title">
      <button class="close-rsvp" aria-label="Close RSVP overlay">âœ–</button>
      <h2 id="rsvp-title">RSVP ğŸ’Œ</h2>
      <p>Please let us know if youâ€™ll be joining us!</p>
      <p>Please Respond on or before October 31, 2025</p>

      <form action="https://formsubmit.co/braverhene@gmail.com" method="POST" class="rsvp-form">
        <!-- Replace YOUR_EMAIL@example.com with your email; edit _next to the thank-you page you want -->
        <input type="hidden" name="_captcha" value="false">
       <input type="hidden" name="_subject" value="New Wedding RSVP ğŸ’Œ">
        <input type="hidden" name="_template" value="table">

        <label for="rsvp-name">Your Name *</label>
        <input type="text" id="rsvp-name" name="name" required>

        

        <label for="rsvp-attending">Will you attend? *</label>
        <select id="rsvp-attending" name="attending" required>
          <option value="">--Select--</option>
          <option value="Yes">Yes, Iâ€™ll be there ğŸ‰</option>
          <option value="No">Sorry, I canâ€™t make it ğŸ’”</option>
          
        </select>

        <label for="rsvp-message">Message (optional)</label>
        <textarea id="rsvp-message" name="message" placeholder="Any dietary needs or a message..."></textarea>

        <button type="submit">Submit RSVP</button>
      </form>
    </div>
  </div>


  <!-- Thank You Popup -->
  <div id="thankyou-popup" class="thankyou-popup">
    <div class="thankyou-content">
      <span class="close-thankyou">&times;</span>
      <h2>Thank You ğŸ’–</h2>
      <p>Your RSVP has been received.<br>
         We canâ€™t wait to celebrate with you!</p>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Reychel & Orlando</p>
  </footer>


  <!-- RSVP "small" section placeholder so anchor still works (optional) -->
  <section id="rsvp" class="rsvp">
    <h2>RSVP</h2>
    <p>Click <strong>RSVP</strong> at the top to respond.</p>
  </section>

 <!-- Google Maps Section -->
<section id="map-section" class="map-section">
  <h2>ğŸ“ How to Get There</h2>
  <div class="map-container">
    <!-- Church Map -->
    <div class="map-card">
      <h3>Ceremony â€“ Imus Cathedral</h3>
      <iframe 
        id="map-church"
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3858.924562034922!2d120.93040761539241!3d14.429356238503186!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3397d2f49e2d502d%3A0xd32bcd932914f10f!2sDiocesan%20Shrine%20and%20Cathedral%20Parish%20of%20Our%20Lady%20of%20the%20Pillar%20(Imus%20Cathedral)!5e0!3m2!1sen!2sph!4v1695690000000!5m2!1sen!2sph" 
        width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy">
      </iframe>
      <button class="reload-map-btn" onclick="reloadMap('map-church')">ğŸ”„ Reload Map</button>
    </div>

    <!-- Reception Map -->
    <div class="map-card">
      <h3>Reception â€“ Patio Lazaro</h3>
      <iframe 
        id="map-reception"
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d30868.23856215465!2d120.9228228!3d14.442990599999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3397d3ffb54e2247%3A0x28da1574aab6e8d5!2sPatio%20Lazaro!5e0!3m2!1sen!2sph!4v1695690500000!5m2!1sen!2sph" 
        width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy">
      </iframe>
      <button class="reload-map-btn" onclick="reloadMap('map-reception')">ğŸ”„ Reload Map</button>
    </div>
  </div>
</section>




  <!-- Footer -->
  <footer id="footer">
    <p>Â© 2025 Reychel & Orlando. All rights reserved.</p>
  </footer>

  <!-- Audio Player -->
  <div class="player-bar-wrap">
    <p class="btn-player-menu" aria-hidden="true">ğŸµ</p>
    <div class="player-bar-status" aria-hidden="true">
      <div class="player-bar-status-column"></div>
      <div class="player-bar-status-column"></div>
      <div class="player-bar-status-column"></div>
    </div>
    <p class="music-name">Joyful</p>
    <audio src="https://res.cloudinary.com/dcytvgwj7/video/upload/v1758567096/runaway_qlqag7.webm" id="page-bgm-pc" loop></audio>
    <div class="player-btn-list" role="group" aria-label="Music controls">
      <span class="btn-player-prev" aria-label="Previous">â®ï¸</span>
      <span class="btn-player-status play" aria-label="Play or pause">â–¶ï¸</span>
      <span class="btn-player-next" aria-label="Next">â­ï¸</span>
    </div>
  </div>

   <div class="petals"></div>

  <!-- Enable Audio Overlay -->
  <div id="audio-overlay" class="audio-overlay" aria-hidden="false">
    <div class="overlay-content">
      <p>Welcome to our Special Day ğŸ¤</p>
      <button id="enable-audio-btn">Proceed</button>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    const video = document.getElementById("hero-video");
    const audio = document.getElementById("page-bgm-pc");
    const overlay = document.getElementById("audio-overlay");
    const enableBtn = document.getElementById("enable-audio-btn");
    const playBtn = document.querySelector(".btn-player-status");
    const loadingOverlay = document.getElementById("loading-overlay");

    // Countdown
    const weddingDate = new Date("December 6, 2025 11:00:00").getTime();
    const countdownEl = document.getElementById("countdown");
    function updateCountdown() {
      const now = new Date().getTime();
      const distance = weddingDate - now;
      if (distance < 0) { countdownEl.innerHTML = "<p>We are married! ğŸ‰ğŸ’</p>"; return; }
      const d = Math.floor(distance / (1000*60*60*24));
      const h = Math.floor((distance%(1000*60*60*24))/(1000*60*60));
      const m = Math.floor((distance%(1000*60*60))/(1000*60));
      const s = Math.floor((distance%(1000*60))/1000);
      countdownEl.innerHTML = `
        <div class="time-box"><span>${d}</span><small>Days</small></div>
        <div class="time-box"><span>${h}</span><small>Hours</small></div>
        <div class="time-box"><span>${m}</span><small>Minutes</small></div>
        <div class="time-box"><span>${s}</span><small>Seconds</small></div>`;
    }
    setInterval(updateCountdown,1000); updateCountdown();

    // Loading overlay
    video.addEventListener('canplaythrough', () => { loadingOverlay.style.display='none'; video.play().catch(()=>{}); });
    video.load();

    // Enable audio: unmute video + play bgm
    enableBtn.addEventListener("click", () => {
      video.muted = false;
      Promise.all([video.play(), audio.play()]).then(()=> {
        overlay.style.display="none";
        overlay.setAttribute('aria-hidden','true');
        if (playBtn) playBtn.textContent="â¸ï¸";
      }).catch(console.log);
    });
    if (playBtn) playBtn.addEventListener("click", ()=> {
      if (audio.paused) { audio.play(); playBtn.textContent="â¸ï¸"; }
      else { audio.pause(); playBtn.textContent="â–¶ï¸"; }
    });

    // Lightbox (open/close + close on outside click + Esc key)
    function openLightbox(imgElement, captionText) {
      const lb = document.getElementById("lightbox");
      const lbImg = document.getElementById("lightbox-img");
      const lbCap = document.getElementById("lightbox-caption");
      lbImg.src = imgElement.src;
      lbCap.textContent = captionText || imgElement.alt || "";
      lb.style.display = "flex";
      lb.setAttribute("aria-hidden", "false");
      // prevent background scrolling
      document.body.style.overflow = "hidden";
    }
    function closeLightbox() {
      const lb = document.getElementById("lightbox");
      lb.style.display = "none";
      lb.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
      document.getElementById("lightbox-img").src = "";
    }
    // close when clicking outside the image (backdrop only)
    document.getElementById("lightbox").addEventListener("click", (e) => {
      const lb = document.getElementById("lightbox");
      if (e.target === lb) {
        closeLightbox();
      }
    });
    // close on Esc (will also be used to close RSVP)
    document.addEventListener('keydown', (e) => {
      if (e.key === "Escape") {
        closeLightbox();
        closeRsvpOverlay(); // defined below (safe if undefined until later)
      }
    });

    // Filmstrip Carousel (works with 15 slides)
    (function(){
      const viewport=document.querySelector('.carousel-viewport');
      const track=document.querySelector('.carousel-track');
      const slides=[...document.querySelectorAll('.carousel-slide')];
      const prev=document.querySelector('.prev'), next=document.querySelector('.next');
      const captionEl=document.getElementById('carousel-caption');
      if(!track||slides.length===0) return;
      let gap=parseFloat(getComputedStyle(track).gap)||20, i=0, timer, ms=5000;
      function update(){
        slides.forEach((s,j)=>{ s.classList.toggle('active', j===i); s.style.opacity = j===i ? '1' : '0.5'; s.style.transform = j===i ? 'scale(1)' : 'scale(0.85)'; s.style.zIndex = j===i ? 2 : 1; });
        let sum=0;
        for(let k=0;k<i;k++){ sum += slides[k].offsetWidth + gap; }
        const cw=viewport.clientWidth, w=slides[i].offsetWidth, offset=(cw/2)-(w/2)-sum;
        track.style.transform=`translateX(${offset}px)`;
        captionEl.textContent = slides[i].dataset.caption || "";
      }
      function move(d){ i=(i+d+slides.length)%slides.length; update(); }
      prev.addEventListener('click', ()=>{ move(-1); reset(); });
      next.addEventListener('click', ()=>{ move(1); reset(); });
      function start(){ if(timer) clearInterval(timer); timer = setInterval(()=>move(1), ms); }
      function reset(){ start(); }
      window.addEventListener('resize', ()=>{ gap = parseFloat(getComputedStyle(track).gap)||gap; update(); });
      // wait images
      let loaded=0;
      slides.forEach(sl=>{ const img = sl.querySelector('img'); if(!img) { loaded++; return; } if(img.complete) loaded++; else img.addEventListener('load', ()=>{ loaded++; if(loaded===slides.length){ update(); start(); } }); });
      if(loaded===slides.length){ update(); start(); }
    })();

    /********** RSVP Overlay Logic **********/
    const openRsvpBtn = document.getElementById("open-rsvp");
    const rsvpOverlay = document.getElementById("rsvp-overlay");
    const closeRsvpBtn = document.querySelector(".close-rsvp");

    function openRsvpOverlay() {
      if(!rsvpOverlay) return;
      rsvpOverlay.style.display = "flex";
      rsvpOverlay.setAttribute('aria-hidden','false');
      document.body.style.overflow = "hidden";
      // focus the first input for accessibility
      const firstInput = rsvpOverlay.querySelector('input, select, textarea, button');
      if (firstInput) firstInput.focus();
    }
    function closeRsvpOverlay() {
      if(!rsvpOverlay) return;
      rsvpOverlay.style.display = "none";
      rsvpOverlay.setAttribute('aria-hidden','true');
      document.body.style.overflow = "";
    }

    if (openRsvpBtn) {
      openRsvpBtn.addEventListener("click", (e) => {
        e.preventDefault();
        openRsvpOverlay();
      });
    }
    if (closeRsvpBtn) {
      closeRsvpBtn.addEventListener("click", () => {
        closeRsvpOverlay();
      });
    }
    // click outside rsvp content closes overlay
    window.addEventListener("click", (e) => {
      if (rsvpOverlay && e.target === rsvpOverlay) {
        closeRsvpOverlay();
      }
    });
// Thank You Popup Logic
const rsvpForm = document.querySelector(".rsvp-form");
const thankyouPopup = document.getElementById("thankyou-popup");
const closeThankyou = document.querySelector(".close-thankyou");

if (rsvpForm) {
  rsvpForm.addEventListener("submit", function(e) {
    e.preventDefault();
    fetch(rsvpForm.action, {
      method: "POST",
      body: new FormData(rsvpForm),
    }).then(() => {
      rsvpOverlay.style.display = "none";
      rsvpForm.reset();
      thankyouPopup.style.display = "flex";
    }).catch(() => {
      alert("There was an error sending your RSVP. Please try again.");
    });
  });
}

closeThankyou.addEventListener("click", () => {
  thankyouPopup.style.display = "none";
});
window.addEventListener("click", (e) => {
  if (e.target === thankyouPopup) thankyouPopup.style.display = "none";
});

function reloadMap(mapId) {
  const iframe = document.getElementById(mapId);
  if (iframe) {
    const src = iframe.src;
    iframe.src = ""; // clear first
    setTimeout(() => { iframe.src = src; }, 100); // reload after short delay
  }
}

 const petalsContainer = document.querySelector('.petals');

  function createPetal() {
    const petal = document.createElement('div');
    petal.classList.add('petal');
    
    // Random horizontal start
    petal.style.left = Math.random() * 100 + "vw";
    // Random animation duration for natural feel
    petal.style.animationDuration = (5 + Math.random() * 5) + "s";
    // Random size variation
    const size = 10 + Math.random() * 10;
    petal.style.width = size + "px";
    petal.style.height = (size * 1.4) + "px";
    // Soft pink shades variation
    petal.style.background = `rgba(255,182,193,${0.6 + Math.random()*0.4})`;

    petalsContainer.appendChild(petal);

    // Remove after animation
    setTimeout(() => {
      petal.remove();
    }, 10000);
  }

  // Moderate rain: new petal every 400ms
  setInterval(createPetal, 400);

//const video = document.getElementById("hero-video");
const source = video.querySelector("source");

// ğŸ¥ Define your two video sources
const portraitVideo = "https://res.cloudinary.com/dcytvgwj7/video/upload/v1758849298/MobileBg3_wlkr2c.mp4";
const landscapeVideo = "https://res.cloudinary.com/dcytvgwj7/video/upload/v1758567098/main_visual_15s_c7fqxd.mp4";

function setVideo() {
  const isPortrait = window.innerHeight > window.innerWidth;
  const newSrc = isPortrait ? portraitVideo : landscapeVideo;

  // Swap source only if different
  if (source.src !== newSrc) {
    source.src = newSrc;
    video.load();  // reload video
    video.play().catch(()=>{}); // ignore autoplay restrictions
  }
}

// Run once on load
setVideo();

// Update instantly when screen size or orientation changes
window.addEventListener("resize", setVideo);
window.addEventListener("orientationchange", setVideo);



    // end of script
  </script>
 
</body>
</html>
